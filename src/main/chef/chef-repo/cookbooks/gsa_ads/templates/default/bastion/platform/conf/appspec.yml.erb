# This is an appspec.yml template file for use with AWS CodeDeploy on the 
# GSA ADS prototype
version: 0.0
os: linux 
files:
  - source: /src
    destination: /var/www/gsa-ads/
permissions:
  - object: /
    owner: apache
    group: apache
    mode: 755
hooks:
  ApplicationStop:
    - location: /opt/gsa-ads/bin/stop-services.sh
      timeout: 60
      runas: root
  AfterInstall:
    - location: /opt/gsa-ads/bin/set-permissions.sh
      timeout: 300
      runas: root
  ApplicationStart:
    - location: /opt/gsa-ads/bin/start-services.sh
      timeout: 60
      runas: root
  ValidateService:
    - location: /opt/gsa-ad/bin/verify-services.sh
      timeout: 60
      runas: root
